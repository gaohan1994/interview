## 一面

讲一讲微前端有哪些实现策略

自我介绍，项目实习相关
7 层网络模型，每一层有哪些协议，问的比较细，
算法题：买股票，先是不限制买卖次数，问最大收益是多少。写出来之后又增加条件，每次卖出都有手续费该如何考虑。leetcode 有原题（这题是最后问的，手续费没写完，说了下思路）
实现 promise.all（写的有些瑕疵）
vuex 使用，原理（这一块面试之前忘看了，乱说一通之后面试官建议我去看看官方文档）

问题 1：HTTP 有哪些请求方法？（二面问过的）追问 put 和 post 有什么区别？

问题 2：HTTPS 讲一下？HTTPS 请求头会被加密吗？

问题 1：箭头函数和普通函数有什么区别？

发布订阅

把字符串转换成驼峰格式

问题 2：括号匹配

问项目
算法题，leetcode 112 路径总和 ok
你知道哪些 JS 数组的 API
map foreach reduce filter
indexOf includes some every
pop push shift unshift
concat split slice
reverse sort
join

手写 reduce
讲一下 HTTP 缓存
谈谈 vue 和 react 的区别和优劣
hooks 用过吗？聊聊 react 中 class 组件和函数组件的区别
class 组件和 函数组件写法不同 class 组件需要继承 react.component 函数式组件则是一个 function
class 组件有具体的生命周期钩子函数
函数式组件 没有具体的生命周期函数 其生命周期可以用 useEffect 模拟在内部 return 其销毁副作用的函数
相比起来 class 组件更像一个完整的细胞，而函数组件是一个个分子

前端性能优化你会怎么做？
打包体积上使用 webpack 的 splitchunks 提取重复代码，合并小代码
懒加载，开启 tree-sharking 去除死代码块
启用图片懒加载
性能上减少回流和重绘的操作
启用 http 缓存并结合 webpack 打包出的 chunk 值做到完美前端缓存方案

减少回流重绘
缩小代码体积，例如：Tree-shaking、代码压缩、代码分割、Scope-hoisting 等
减少请求数，例如：雪碧图、基础库打成一个包
并发请求，使用 cdn，突破浏览器对同一域名的 TCP 连接数限制，或者使用 http2
运行时加载，例如：图片懒加载，组件动态 import
缓存，例如：http 缓存，dll 等

## 二面

项目中遇到最复杂的是什么？最有技术难度的是什么？

<!--
  fn(
    [
      ['a', 'b'],
      ['n', 'm'],
      ['0', '1']
    ]) =>
  ['an0', 'am0', 'an1', 'am1', 'bn0', 'bm0', 'bn1', 'bm0'] -->

u.console('breakfast').setTimeout(3000).console('lunch').setTimeout(3000).console('dinner')
实现 u

事件代理是什么？
为了减少事件绑定次数，在要绑定的多个节点的父节点设置事件代理，在这个代理中利用事件冒泡的原理监听事件触发并可以根据触发 event 的不同执行不同的操作

e.target 和 e.currentTarget 的区别

写一个事件代理函数，需要判断 child 是 parent 的子节点

```javascript
function proxy(event, cb, parent, child) {}
```

看图说结果

```javascript
var length = 10;
function fn() {
  return this.length + 1;
}
var obj1 = {
  length: 5,
  test1: function () {
    return fn();
  },
};
obj1.test2 = fn;
obj1.test1.call();
11;
obj1.test1();
6;
obj1.test2.call();
12;
obj1.test2();
6;
```

自我介绍，项目实习相关
看代码说输出，注意一个 promise 只能 resolve 一次，因此最后不会输出 1。一开始没考虑到这点，经面试官提醒才意识到。

```javascript

const pro = new Promise((resolve, reject) => {
const innerpro = new Promise((resolve, reject) => {
  setTimeout(() => {
    resolve(1);
  }, 0);
    console.log(2);
    resolve(3);
  });
  innerpro.then(res => console.log(res));
  resolve(4);
  console.log("pro");
})
pro.then(res => console.log(res));
console.log("end"); ​
//2
//pro
//end
//3
//4
```

看代码说输出，考察作用域

```javascript
var a = 100;
function fn() {
  var b = 30;
  function bar() {
    console.log(a + b);
    console.log(this.b);
  }
  return bar;
}
var x = fn(),
  b = 400;
x();
```

vue 的 diff 算法，问的比较详细，具体是如何比较新旧 vnode 的，以及节点的比较是深度优先还是广度优先
slot 的作用，何时会用到它
ES6
ES6 module 和 commonjs 的区别
webpack 相关，提取 common chunk，tree shaking 是如何实现的
vue.$nextTick 作用
有了解哪些前端方面前沿的知识（我说 flutter 和 serveless，微前端，然后面试官让具体讲讲，具体不了解 hhh）

## 三面

实现 String.prototype.indexOf，以及优化（写之前面试官说出一道很简单的算法题，然后我写的贼垃圾，写完都感觉要凉了）
看我代码写得很丑，问我有没有用过 eslint，知道哪些前端代码规范。（要哭了）
知道哪些前端前沿知识
es6 相关
反问，讲了很久的业务内容
面试前面试官说面试可能持续 40min，结果我说的太少不到 30min 就结束了 hhh

给数组中的字符串编号，f(['ab', 'c', 'd', 'ab', 'c']) => ['ab1', 'c1', 'd', 'ab2', 'c2']，写完后问了一下时间和空间复杂度。
让你实现一个微信扫码登录掘金会怎么实现，微信、掘金、客户端这三方的通信流程是怎样的？
React Fiber 有了解吗？

React Fiber 是 react 16 架构重构的新的 react 虚拟 dom
重构虚拟 dom 的原因是因为 react 团队对 React15 架构在深层次递归遍历时的效率非常的不满意，在其 16 架构里新增了调度器，引入了时间切片的概念，js 线程工作一段时间之后将线程控制权交还给浏览器

React Fiber 的数据结构
1、作为存储来说 fiber 保存有其对应 dom 节点的属性
2、作为表结构来说 fiber 连接着兄弟节点、子节点和父节点构成了 fiber 数，是链表结构
3、作为工作状态 fiber 保存了 优先级，effect 相关以及 alternate

了解哪些设计模式？代理模式了解吗？
说了单例、发布订阅、观察者模式

了解消息中间件吗？
说了 redux 和 koa 的中间件，估计面试官不是想问这个。。
